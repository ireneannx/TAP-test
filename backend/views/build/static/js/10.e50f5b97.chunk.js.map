{"version":3,"sources":["Jobs/likebar.js","Jobs/Jobs.js","Jobs/JobAction.js"],"names":["LikeBar","axiosCall","a","axios","post","props","userData","authData","_id","user","upvote_count","frontendLike","checkForId","find","data","this","style","width","margin","marginTop","display","color","marginLeft","length","background","border","outline","onClick","React","PureComponent","connect","state","Auth","dispatch","bindActionCreators","Jobs","currentJob","handleClick","job","history","push","user_id","handleModal","setState","getJobs","jobs","textAlign","padding","className","aria-hidden","to","match","url","map","index","JobCard","key","overflow","src","alt","company_name","job_type","marginRight","format","createdAt","AlignCenter","href","target","marginBottom","type","data-toggle","data-target","Modal","Component","styled","div","jobreducer","isLoaded","id","tabIndex","role","aria-labelledby","data-dismiss","aria-label","name","deadline","Date","getDate","getMonth","getFullYear","job_description","get","res","payload","addJob","JobId","UserId"],"mappings":"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","file":"static/js/10.e50f5b97.chunk.js","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux'\r\nimport { frontendLike } from './JobAction'\r\nimport { bindActionCreators } from 'redux';\r\n\r\n\r\nclass LikeBar extends React.PureComponent {\r\n\r\n    axiosCall = async () => {\r\n\r\n        const data = await axios.post(`/api/jobs/like/${this.props.userData.authData._id || this.props.userData.authData.user._id}/${this.props.upvote_count._id}`)\r\n\r\n        this.props.frontendLike(this.props.upvote_count._id, this.props.userData.authData._id || this.props.userData.authData.user._id)\r\n    }\r\n\r\n    checkForId = () => {\r\n\r\n        return this.props.upvote_count.upvote_count.find((data) => {\r\n            if ((data === this.props.userData.authData._id) || (data === this.props.userData.authData.user._id)) {\r\n                return true;\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n    render() {\r\n        if (this.checkForId()) {\r\n            return (\r\n                <div style={{ width: \"50px\", margin: \"0 auto\", marginTop: \"-26px\", display: \"flex\" }}>\r\n                    <div style={{ color: \"red\" }}>\r\n                        <p>&#9829;</p>\r\n                    </div>\r\n                    <div style={{ marginLeft: \"10px\", color: \"white\" }}>\r\n                        <strong>{this.props.upvote_count.upvote_count.length}</strong>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        else {\r\n            return (\r\n                <div style={{ width: \"50px\", margin: \"0 auto\", marginTop: \"-26px\", display: \"flex\" }}>\r\n                    <div style={{ color: \"white\", display: \"flex\" }}>\r\n                        <button style={{ background: \"none\", border: \"none\", color: \"white\", outline: \"none\" }} onClick={this.axiosCall}><p>&#9829;</p></button>\r\n                        <p style={{ marginLeft: \"7px\" }}>{this.props.upvote_count.upvote_count.length}</p>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    userData: state.Auth\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n    frontendLike\r\n}, dispatch)\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LikeBar);","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getJobs } from \"./JobAction\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport LikeBar from \"./likebar\";\r\nimport { format } from \"timeago.js\";\r\nimport \"../App.css\";\r\nclass Jobs extends Component {\r\n  state = {\r\n    currentJob: \"\"\r\n  };\r\n  componentDidMount() {\r\n    this.props.getJobs();\r\n  }\r\n  handleClick = job => {\r\n    this.props.history.push(`/profile/${job.user_id}`);\r\n  };\r\n\r\n  handleModal = job => {\r\n\r\n    this.setState({\r\n      currentJob: job\r\n    });\r\n  };\r\n  //comment\r\n  render() {\r\n    let { jobs } = this.props;\r\n    if (jobs[0] === null) {\r\n      return (\r\n        <div>\r\n          <h2>Loading</h2>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div style={{ width: \"80%\", margin: \"0 auto\" }}>\r\n          <br />\r\n          <div style={{ textAlign: \"center\", margin: \"auto\", padding: \"10px\" }}>\r\n            <button className=\"btn btn-secondary\" style={{ width: \"200px\" }}>\r\n              <i className=\"fa fa-plus\" aria-hidden=\"true\"></i>\r\n              <Link to={`${this.props.match.url}/new`} className=\"white padding\">\r\n                Add Job\r\n              </Link>\r\n            </button>\r\n          </div>\r\n          <div className=\"text-center\" style={{ margin: \"0 auto\" }}>\r\n            <div>\r\n              {jobs.map((job, index) => {\r\n                return (\r\n                  <JobCard\r\n                    key={index}\r\n                    className=\"card\"\r\n                    style={{\r\n                      width: \"18rem\",\r\n                      overflow: \"hidden\",\r\n                      margin: \"15px\"\r\n                    }}\r\n                  >\r\n                    <img\r\n                      className=\"card-img-top\"\r\n                      src=\"https://images.unsplash.com/photo-1508830524289-0adcbe822b40?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60\"\r\n                      alt=\"Card cap\"\r\n                    />\r\n\r\n                    <LikeBar upvote_count={job} />\r\n                    <div className=\"card-body\">\r\n                      <h5\r\n                        className=\"card-title\"\r\n                        style={{ textAlign: \"center\" }}\r\n                      >\r\n                        {job.company_name}\r\n                      </h5>\r\n                      <p className=\"card-text\">{job.job_type}.</p>\r\n                      <p className=\"text-muted\">\r\n                        <i\r\n                          className=\"fa fa-clock\"\r\n                          style={{ marginRight: \"10px\" }}\r\n                        ></i>\r\n                        {format(job.createdAt)}\r\n                      </p>\r\n                      <AlignCenter>\r\n                        <a\r\n                          href={job.url}\r\n                          target=\"blank\"\r\n                          className=\"btn\"\r\n                          style={{\r\n                            background: \"#99CC00\",\r\n                            color: \"#FFFFFF\",\r\n                            marginBottom: \"10px\"\r\n                          }}\r\n                        >\r\n                          Apply Now\r\n                        </a>\r\n                        <span>\r\n                          <button\r\n                            type=\"button\"\r\n                            className=\"btn btn-secondary btn-sm\"\r\n                            data-toggle=\"modal\"\r\n                            onClick={() => this.handleModal(job)}\r\n                            data-target=\"#exampleModalLong\"\r\n                          >\r\n                            View Job Description\r\n                          </button>\r\n                        </span>\r\n                      </AlignCenter>\r\n                    </div>\r\n                  </JobCard>\r\n                );\r\n              })}\r\n            </div>\r\n            <Modal job={this.state.currentJob} handleClick={this.handleClick} />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n//mapStateToProps\r\nconst mapStateToProps = state => ({\r\n  jobs: state.jobreducer.jobs,\r\n  isLoaded: state.jobreducer.isLoaded,\r\n  authData: state.Auth.authData\r\n});\r\n//mapDispatchToProps\r\nconst mapDispatchToProps = dispatch =>\r\n  bindActionCreators({ getJobs }, dispatch);\r\nexport const JobCard = styled.div`\r\n  display: inline-block;\r\n  vertical-align: top;\r\n  &::after {\r\n    content: \"\";\r\n    clear: both;\r\n    display: table;\r\n  }\r\n  margin-right: 10px;\r\n  &:not(:after-child) {\r\n    margin-right: 10px;\r\n  }\r\n  background-color: #fff;\r\n  -webkit-border-radius: 3px;\r\n  -moz-border-radius: 3px;\r\n  border-radius: 3px;\r\n  position: relative;\r\n  min-height: 320px;\r\n  -webkit-box-shadow: 0 1px 1px 0 rgba(159, 167, 194, 0.6);\r\n  -moz-box-shadow: 0 1px 1px 0 rgba(159, 167, 194, 0.6);\r\n  box-shadow: 0 1px 1px 0 rgba(159, 167, 194, 0.6);\r\n`;\r\nexport const AlignCenter = styled.div`\r\n  text-align: center;\r\n`;\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Jobs);\r\n\r\nconst Modal = props => {\r\n\r\n  return (\r\n    <div\r\n      className=\"modal fade\"\r\n      id=\"exampleModalLong\"\r\n      tabIndex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLongTitle\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div className=\"modal-dialog\" role=\"document\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\" id=\"exampleModalLongTitle\">\r\n              Job Description\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              className=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            <p>Posted by: <span onClick={() => props.handleClick(props.job)} data-dismiss=\"modal\" className=\"user\">{props.job.name}</span></p>\r\n            <p>Deadline: {props.job.deadline ? `${new Date(props.job.deadline).getDate()}-${new Date(props.job.deadline).getMonth() + 1}-${new Date(props.job.deadline).getFullYear()}` : \"Not specified by author\"}</p>\r\n\r\n            <p>{props.job.job_description}</p>\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-secondary\"\r\n              data-dismiss=\"modal\"\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import axios from 'axios'\r\n\r\nexport const getJobs = () => {\r\n  return async function (dispatch) {\r\n\r\n    const res = await axios.get(\"/api/jobs\");\r\n    // console.log(\"here is the res for jobs\", res)\r\n\r\n    return dispatch({\r\n      type: \"GET_JOBS\",\r\n      payload: res.data\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport const addJob = (job, history) => {\r\n  return async function (dispatch) {\r\n    //this object includes user_id(who made the post) as well as all the job data contained in job. Will be accessible in the backend in req.body\r\n\r\n    const res = await axios.post(\"/api/jobs\", job);\r\n\r\n    history.push(\"/jobs\") //this needs to be done in the addJob dispatch function rather than in AddJob.js after we do this.props.getJob(). Otherwise the new job will not get added when we redirect \r\n    return dispatch({\r\n      type: \"ADD_JOB\",\r\n      payload: res.data\r\n    })\r\n  }\r\n}\r\n\r\nexport const frontendLike = (JobId, UserId) => {\r\n\r\n  return function (dispatch) {\r\n    return dispatch({\r\n      type: \"ADD_ID_TO_JOB\",\r\n      JobId: JobId,\r\n      UserId: UserId\r\n    })\r\n  }\r\n}"],"sourceRoot":""}