(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[14],{489:function(e,t,a){"use strict";a.r(t);var n=a(23),r=a(24),c=a(26),s=a(25),i=a(27),o=a(0),u=a.n(o),l=a(17),m=a.n(l),d=a(28),p=a(93),h=a(13),f=a(8),b=a(11),v=a.n(b);function E(){return function(){var e=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v.a.defaults.headers.common.Authorization=localStorage.getItem("thsToken"),e.next=3,v.a.get("/api/posts");case 3:return a=e.sent,e.abrupt("return",t({type:"GET",payload:a.data}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function g(e,t,a,n){console.log("recieved by action",e);var r={content:e,author:t,name:a,avatarURL:n};return function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("/api/posts",r,{headers:{Authorization:localStorage.getItem("thsToken")}}).then((function(){return t({type:"ADD",payload:r})})).catch((function(e){return console.log(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}a(48);var y=a(327),j=a.n(y),x=a(338),O=a.n(x),N=a(360),S=a.n(N),k=O()(),w=k.InlineToolbar,C=S()(),P=C.EmojiSelect,F=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).state={editorState:p.EditorState.createEmpty(),userId:"",userName:"",avatarURL:""},a.onChange=function(e){return a.setState({editorState:e})},a.onSubmit=function(){var e=Object(d.a)(m.a.mark((function e(t){var n,r,c,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state.editorState.getCurrentContent().getPlainText(),e.next=4,a.state.userId;case 4:return r=e.sent,e.next=7,a.state.userName;case 7:return c=e.sent,e.next=10,a.state.avatarURL;case 10:return s=e.sent,e.next=13,a.props.addFeedPost(n,r,c,s);case 13:return e.next=15,a.props.getFeedPosts();case 15:i=p.EditorState.push(a.state.editorState,p.ContentState.createFromText("")),a.setState({editorState:i});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getFeedPosts();case 2:return e.next=4,v.a.get("/api/users/img/".concat(this.props.auth.user._id));case 4:return t=e.sent,e.next=7,this.setState({userId:this.props.auth.user._id,userName:this.props.auth.user.name,avatarURL:t.data});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return u.a.createElement("div",{style:{margin:"0 auto"}},u.a.createElement("form",{onSubmit:function(t){return e.onSubmit(t)}},u.a.createElement("div",{className:"card posts",style:{margin:"20px auto"}},u.a.createElement("div",{className:"card-body"},u.a.createElement("div",null,u.a.createElement(j.a,{plugins:[C,k],editorState:this.state.editorState,onChange:this.onChange,placeholder:"What's Happening"})),u.a.createElement("div",{className:"toolbar-options"},this.state.editorState.getCurrentContent().getPlainText().length>=1?u.a.createElement("button",{type:"submit",className:"btn btn-primary btn-sm"},"Submit Post"):u.a.createElement("button",{type:"submit",className:"btn btn-primary btn-sm",disabled:!0},"Submit Post"),u.a.createElement("div",{style:{marginLeft:"10px",marginTop:"2px"}},u.a.createElement(P,null),u.a.createElement(w,null)))))))}}]),t}(u.a.Component),A=Object(h.b)((function(e){return{data:e.Feed.feeds,auth:e.Auth.authData}}),(function(e){return Object(f.bindActionCreators)({addFeedPost:g,getFeedPosts:E},e)}))(F),T=a(87),L=a(102),I=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).handleClick=function(e){a.props.history.push("/profile/".concat(e.author))},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.getFeedPosts()}},{key:"render",value:function(){var e=this;if(this.props.data)return u.a.createElement("div",null,this.props.data.map((function(t,a){return u.a.createElement("div",{key:a},u.a.createElement("div",{className:"card gedf-card posts"},u.a.createElement("div",{className:"card-body"},u.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},u.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},u.a.createElement("div",{className:"mr-2"},u.a.createElement("img",{className:"rounded-circle",width:"45",height:"45",src:t.avatarURL,alt:""})),u.a.createElement("div",{className:"ml-2"},u.a.createElement("div",{className:"h5 m-0 user",onClick:function(){return e.handleClick(t)}},t.name))))),u.a.createElement("div",{className:"card-body"},u.a.createElement("div",{key:t._id},t.content)),u.a.createElement("div",{className:"card-footer",style:{height:"50px"}},u.a.createElement("div",{className:"left"},u.a.createElement("p",{className:"card-link",style:{fontSize:"20px"}},u.a.createElement("i",{className:"fa fa-thumbs-up"})," Like")),u.a.createElement("div",{className:"text-muted h7 mb-2 right"},u.a.createElement("i",{className:"fa fa-clock",style:{marginRight:"10px"}}),Object(L.format)(t.createdAt)))),u.a.createElement("br",null))})))}}]),t}(u.a.Component),R=Object(T.g)(Object(h.b)((function(e){return{data:e.Feed.feeds}}),(function(e){return Object(f.bindActionCreators)({getFeedPosts:E},e)}))(I)),D=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement("div",{className:"container"},u.a.createElement("div",null,u.a.createElement(A,null),u.a.createElement(R,null))))}}]),t}(u.a.Component);t.default=D}}]);
//# sourceMappingURL=14.165cfb05.chunk.js.map